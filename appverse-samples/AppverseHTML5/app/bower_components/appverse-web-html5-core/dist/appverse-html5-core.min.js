/*! appverse-web-html5-core - v0.5.0-dev - */
!function(){"use strict";function a(a,b,c){a.info("appverse.cache run"),c.ScopeCache_Enabled&&b.setScopeCache(c.ScopeCache_duration,c.ScopeCache_capacity),c.BrowserStorageCache_Enabled&&b.setBrowserStorage(c.BrowserStorage_type,c.MaxAge,c.CacheFlushInterval,c.DeleteOnExpire,c.VerifyIntegrity),c.HttpCache_Enabled&&b.setDefaultHttpCacheStorage(c.HttpCache_duration,c.HttpCache_capacity)}angular.module("appverse.cache",["ng","appverse.configuration","jmdobry.angular-cache","ngResource"]).run(a),a.$inject=["$log","CacheFactory","CACHE_CONFIG"]}(),function(){"use strict";angular.module("appverse.cache").directive("cache",["$log","CacheFactory",function(a,b){return{link:function(c,d,e){var f=e.cache||e.cacheName;c.$watch(function(){return b.getScopeCache().get(f)},function(d){a.debug("Cache watch {"+f+"}:",d),c[f]=b.getScopeCache().get(f)}),c.$watch(f,function(d){a.debug("Cache watch {"+f+"}:",d),b.getScopeCache().put(f,c[f])})}}}])}(),function(){"use strict";function a(a,b,c){var d={_scopeCache:null,_browserCache:null,_httpCache:null};return d.setScopeCache=function(b,e){return d._scopeCache=a(c.DefaultScopeCacheName,{maxAge:b,capacity:e}),d._scopeCache},d.getScopeCache=function(){return d._scopeCache||d.setScopeCache(c.ScopeCache_duration,c.ScopeCache_capacity)},d.setBrowserStorage=function(b,e,f,g,h){var i;return i="2"==b?c.SessionBrowserStorage:c.LocalBrowserStorage,d._browserCache=a(c.DefaultBrowserCacheName,{maxAge:e,cacheFlushInterval:f,deleteOnExpire:g,storageMode:i,verifyIntegrity:h}),d._browserCache},d.setDefaultHttpCacheStorage=function(c,e){var f="MyHttpAngularCache";return d._httpCache=a.get(f),d._httpCache?d._httpCache.setOptions({capacity:e,maxAge:c,deleteOnExpire:"aggressive",recycleFreq:15e3,cacheFlushInterval:15e3,storageMode:"localStorage",verifyIntegrity:!0}):d._httpCache=a(f,{capacity:e,maxAge:c,deleteOnExpire:"aggressive",recycleFreq:15e3,cacheFlushInterval:15e3,verifyIntegrity:!0}),b.defaults.cache=d._httpCache,d._httpCache},d.getHttpCache=function(){return d._httpCache},d}angular.module("appverse.cache").factory("CacheFactory",a),a.$inject=["$angularCacheFactory","$http","CACHE_CONFIG"]}(),function(){"use strict";angular.module("appverse.cache").service("IDBService",["$q","$log",function(a,b){function c(){var c=a.defer();if(e)return c.resolve(!0),c.promise;var f=window.indexedDB.open("indexeddb_appverse",1);return f.onerror=function(a){b.debug("Error opening db"),console.dir(a),c.reject(a.toString())},f.onupgradeneeded=function(a){var b,c=a.target.result;c.objectStoreNames.contains("default")||(b=c.createObjectStore("item",{keyPath:"id",autoIncrement:!0}),b.createIndex("titlelc","titlelc",{unique:!1}),b.createIndex("tags","tags",{unique:!1,multiEntry:!0}))},f.onsuccess=function(a){d=a.target.result,d.onerror=function(a){c.reject("Database error: "+a.target.errorCode)},e=!0,c.resolve(!0)},c.promise}var d,e=!1,f={};return f.isSupported=function(){return"indexedDB"in window},f.deleteDefault=function(b){var c=a.defer(),e=d.transaction(["item"],"readwrite");return e.objectStore("item").delete(b),e.oncomplete=function(){c.resolve()},c.promise},f.getDefault=function(b){var c=a.defer(),e=d.transaction(["item"]),f=e.objectStore("item"),g=f.get(b);return g.onsuccess=function(){var a=g.result;c.resolve(a)},c.promise},f.getDefaults=function(){var b=a.defer();return c().then(function(){var a=[],c=function(b){var c=b.target.result;c&&(a.push({key:c.key,title:c.value.title,body:c.value.body,updated:c.value.updated,tags:c.value.tags}),c.continue())},e=d.transaction(["item"],"readonly"),f=e.objectStore("item");f.openCursor().onsuccess=c,e.oncomplete=function(){b.resolve(a)}}),b.promise},f.ready=function(){return e},f.saveDefault=function(c){var e=a.defer();c.id||(c.id="");var f=c.title.toLowerCase(),g=d.transaction(["item"],"readwrite");return""===c.id?(b.debug("id empty"),g.objectStore("item").add({title:c.title,body:c.body,updated:(new Date).getTime(),titlelc:f,tags:new Array(c.tags)})):(b.debug("id not empty"),g.objectStore("item").put({title:c.title,body:c.body,updated:new Date,id:Number(c.id),titlelc:f,tags:new Array(c.tags)})),g.oncomplete=function(){e.resolve()},e.promise},f.item=function(a,b,c,d){this.id=a,this.title=b,this.body=c,this.tags=d},f}])}(),function(){"use strict";angular.module("appverse.detection",["appverse.utils"])}(),function(){"use strict";function a(){function a(){return"undefined"!=typeof Unity}function b(){return null!==Unity.System.GetOSInfo()}function c(a){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))}this.$get=function(){return this},this.hasAppverseMobile=function(){return a()&&b()},this.isMobileBrowser=function(a){var b=a||navigator.userAgent||navigator.vendor||window.opera;return c(b)}}angular.module("appverse.detection").provider("MobileDetector",a)}(),function(){"use strict";function a(a){this.mobileDetector=a,this.bandwidth=0,this.isPollingBandwidth=!1,this.$http=void 0,this.$get=["$http",function(a){return this.$http=a,this}],this.hasAppverseMobile=function(){return this.mobileDetector.hasAppverseMobile()},this.isMobileBrowser=function(){return this.mobileDetector.isMobileBrowser()},this.hasAppverseMobile()||this.isMobileBrowser();var b=function(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.data=b,window.dispatchEvent(c)},c=function(a,c){var d=new XMLHttpRequest,e=setTimeout(function(){d.abort(),b("connectiontimeout",{})},5e3);d.onreadystatechange=function(){4===d.readyState&&(200===d.status?(b("goodconnection",{}),clearTimeout(e),c&&c(d.responseText)):b("connectionerror",{}))},d.open("GET",a),d.send()};this.isOnline=window.navigator.onLine,this.isPollingOnlineStatus=!1,this.testOnlineStatus=function(){c("resources/detection/ping.json")},this.startPollingOnlineStatus=function(a){this.isPollingOnlineStatus=setInterval(this.testOnlineStatus,a)},this.stopPollingOnlineStatus=function(){clearInterval(this.isPollingOnlineStatus),this.isPollingOnlineStatus=!1},this.testBandwidth=function(){var a="resources/detection/bandwidth.json?bust="+(new Date).getTime();b("onBandwidthStart"),this.$http.get(a).success(function(a,c,d){b("onBandwidthEnd",{status:c,data:a,getResponseHeader:d})})},this.startPollingBandwidth=function(a){this.testBandwidth(),this.isPollingBandwidth=setInterval(this.testBandwidth.bind(this),a)},this.stopPollingBandwidth=function(){clearInterval(this.isPollingBandwidth),this.isPollingBandwidth=!1}}angular.module("appverse.detection").provider("Detection",a),a.$inject=["MobileDetectorProvider"]}(),function(){"use strict";function a(a,b,c,d){a.info("appverse.detection run"),d.addEventListener?(d.addEventListener("online",function(){a.debug("detectionController online"),b.isOnline=!0,c.$digest()},!0),d.addEventListener("offline",function(){a.debug("detectionController offline"),b.isOnline=!1,c.$digest()},!0)):a.warn("Detection module: $window.addEventListener not supported."),d.applicationCache?d.applicationCache.addEventListener("error",function(){a.debug("Error fetching manifest: a good chance we are offline")}):a.warn("Detection module: $window.applicationCache not supported."),window.addEventListener?(window.addEventListener("goodconnection",function(){a.debug("detectionController goodconnection"),b.isOnline=!0,c.$digest()}),window.addEventListener("connectiontimeout",function(){a.debug("detectionController connectiontimeout"),b.isOnline=!1,c.$digest()}),window.addEventListener("connectionerror",function(){a.debug("detectionController connectionerror"),b.isOnline=!1,c.$digest()}),window.addEventListener("onBandwidthStart",function(){a.debug("detectionController onBandwidthStart"),b.bandwidthStartTime=new Date}),window.addEventListener("onBandwidthEnd",function(d){a.debug("detectionController onBandwidthEnd");var e=parseInt(d.data.getResponseHeader("Content-Length"),10),f=new Date-b.bandwidthStartTime;b.bandwidth=parseInt(e/1024/(f/1e3)),setTimeout(function(){c.$digest()})})):a.warn("Detection module: window.addEventListener not supported.")}angular.module("appverse.detection").run(a),a.$inject=["$log","Detection","$rootScope","$window"]}(),function(){"use strict";angular.module("appverse.logging",["appverse.configuration"]).config(["$provide",function(a){a.decorator("$log",["$delegate","FormattedLogger",function(a,b){return b(a)}])}])}(),function(){"use strict";function a(){function a(){return c?b().isOnline:!0}function b(){var a=angular.injector();return a.invoke(c.$get,c)}var c;this.$get=["$injector","LOGGING_CONFIG",function(b,c){return function(d){function e(a,b){function d(a){return a.toString().length<2?"0"+a:a}return a=a||new Date,b=b||c.LogDateTimeFormat,b.replace(/%([a-zA-Z])/g,function(b,c){switch(c){case"Y":return a.getFullYear();case"M":return d(a.getMonth()+1);case"d":return d(a.getDate());case"h":return d(a.getHours());case"m":return d(a.getMinutes());case"s":return d(a.getSeconds());case"z":return d(a.getMilliseconds());default:throw new Error("Unsupported format code: "+c)}})}function f(d,f,g){try{if(!d)return function(){};var h=f+" | "+c.CustomLogPreffix+" | ";return function(){var d=Array.prototype.slice.call(arguments);if("[object String]"===Object.prototype.toString.call(d[0])?d[0]=h+e()+" | "+d[0]:(d.push(d[0]),d[0]=h+e()+" | "),g.apply(null,d),c.ServerEnabled){var f={logUrl:window.location.href,logMessage:d[0]};if(2===d.length&&(f.logMessage+=" "+JSON.stringify(d[1])),a()){var i=b.get("$http");i.post(c.LogServerEndpoint,f)}}}}catch(i){throw i}}return d.log=f(c.EnabledLogLevel,"LOG  ",d.log),d.info=f(c.EnabledInfoLevel,"INFO ",d.info),d.error=f(c.EnabledErrorLevel,"ERROR",d.error),d.warn=f(c.EnabledWarnLevel,"WARN ",d.warn),d.debug=f(c.EnabledDebugLevel,"DEBUG",d.debug),d}}],this.setDetection=function(a){c=a}}angular.module("appverse.logging").provider("FormattedLogger",a)}(),function(){"use strict";function a(a){a.info("appverse.performance run")}angular.module("appverse.performance",["appverse.configuration"]).run(a),a.$inject=["$log"]}(),function(){"use strict";angular.module("appverse.performance").directive("webworker",["$log","WebWorkerFactory","PERFORMANCE_CONFIG",function(a,b,c){return{restrict:"E",scope:{workerid:"@",message:"@",template:"@"},priority:1e3,terminal:!0,compile:function(){},link:function(d,e,f){function g(a){d.workerid=j,d.template=k||c.webworker_Message_template,h(d.workerid,a)}function h(a,c){b.runTask(a,c);var e=b._resultMessage;e&&(d.messageFromWorker=e)}function i(a,b,c){a.get(d.template,{cache:b}).success(function(a){e.html(a),c(e.contents())(d)})}var j=f.id,k=f.template;d.$watch(function(){return b._resultMessage},function(c){a.debug("Cache watch {"+name+"}:",c),d.messageFromWorker=b._resultMessage}),d.$watch("message",function(a){g(a),i()})}}}])}(),function(){"use strict";function a(a,b,c){function d(b){var d=this;this.parentPool=b,this.workerTask={},this.run=function(b){if(d.workerTask=b,null!=d.workerTask.script){var e;b.type==c.webworker_dedicated_literal?(e=new Worker(d.workerTask.script),e.addEventListener("message",d.OnWorkerMessageHandler,!1),e.postMessage(d.workerTask.startMessage)):b.type==c.webworker_shared_literal?(e=new SharedWorker(d.workerTask.script),e.port.addEventListener("message",d.OnWorkerMessageHandler,!1),e.port.postMessage(d.workerTask.startMessage)):a.error("NO VALID WORKER TYPE")}},d.OnWorkerMessageHandler=function(a){d.workerTask.callback(a),d.parentPool.freeWorkerThread(d)}}function e(a){g._resultMessage=a.data}function f(a,b,c,d){this.id=a,this.type=b,this.poolSize=c,this.file=d}var g={_poolSize:c.webworker_pooled_threads,_authorizedWorkersOnly:c.webworker_authorized_workers_only,_workersDir:c.webworker_directory,_workersList:c.webworker_authorized_workers,_resultMessage:""};return a.debug("Initializated webworkers factory preconfigured values."),a.debug("Default pool size: "+g._poolSize),a.debug("Are only authorized preconfigured workers? "+g._authorizedWorkersOnly),a.debug("The folder for webworkers in the app: "+g._workersDir),a.debug("Number of members in the workers list: "+g._workersList.length),g.runParallelTasksGroup=function(b,c){this.workerData=b,a.debug("Started parallelized execution for worker: "),a.debug(b.toString());var d=new g.WorkerPool(this.workerData.poolSize);if(d.init(),c&&c.length>0)for(var e=0;e<c.length;e++){var f=c[e];d.addWorkerTask(f)}return g._resultMessage},g.runTask=function(b,c,d){var e=new g.WorkerPool(g._poolSize);e.init();var h,i;if(g._authorizedWorkersOnly?b?h=g.getWorkerFromId(b):a.error("NO VALID WORKER ID ERROR"):b?h=new f(1001,"dedicated",b):a.error("NO VALID WORKER ID ERROR"),h){e=new g.WorkerPool(h.poolSize),i=new g.WorkerTask(h,d,c);for(var j=0;j<g._poolSize;j++)e.addWorkerTask(i)}else a.error("NO WORKER DATA ERROR")},g.WorkerPool=function(a){var b=this;this.size=a?a:g._poolSize,this.taskQueue=[],this.workerQueue=[],this.init=function(){for(var a=0;a<b.size;a++)b.workerQueue.push(new d(b))},this.addWorkerTask=function(a){if(b.workerQueue.length>0){var c=b.workerQueue.shift();c.run(a)}else b.taskQueue.push(a)},this.freeWorkerThread=function(a){if(b.taskQueue.length>0){var c=b.taskQueue.shift();a.run(c)}else b.taskQueue.push(a)}},g.WorkerTask=function(a,b,c){this.script=a.file,this.callback=b?b:e,this.startMessage=c,this.type=a.type},f.prototype.toString=function(){return"ID: "+this.id+"|TYPE: "+this.type+"|POOL SIZE: "+this.poolSize+"|FILE: "+this.file},g.getWorkerFromId=function(a,b){this.id=a,this.type="",this.poolSize=b,this.file="";for(var c=0;c<g._workersList.length;c++)if(g._workersList[c].id===a){this.type=g._workersList[c].type,this.poolSize=this.poolSize&&0!=this.poolSize?b:g._workersList[c].poolSize,this.file=g._workersDir+g._workersList[c].file;break}var d=new f(this.id,this.type,this.poolSize,this.file);return d},g}angular.module("appverse.performance").factory("WebWorkerPoolFactory",a),a.$inject=["$log","$q","PERFORMANCE_CONFIG"]}(),function(){"use strict";function a(a,b,c,d,e){function f(){var b=a.get("RESTFactory"),c=a.get("$log"),e=a.get("SECURITY_GENERAL");if(d.exists("appverse.security")){var f=a.get("Oauth_RequestWrapper");if(e.securityEnabled)return b.wrapRequestsWith(f),void c.debug("REST communication is secure. Security is enabled. REST requests will be wrapped with authorization headers.")}b.enableDefaultContentType(),c.debug("REST communication is not secure. Security is not enabled.")}function g(){if(d.exists("appverse.cache")){var b=a.get("RESTFactory"),c=a.get("CacheFactory"),e=c.getHttpCache();b.setCache(e)}}f(),g(),c.setBaseUrl(e.BaseUrl),c.setExtraFields(e.ExtraFields),c.setParentless(e.Parentless);for(var h,i=0;i<e.ElementTransformer.length;i++)b.debug("Adding transformer"),h=e.ElementTransformer[i],c.addElementTransformer(h.route,h.transformer);c.setOnElemRestangularized(e.OnElemRestangularized),"function"==typeof e.RequestInterceptor&&(b.debug("Setting RequestInterceptor"),c.setRequestInterceptor(e.RequestInterceptor)),"function"==typeof e.FullRequestInterceptor&&(b.debug("Setting FullRequestInterceptor"),c.setFullRequestInterceptor(e.FullRequestInterceptor)),c.setErrorInterceptor(e.ErrorInterceptor),c.setRestangularFields(e.RestangularFields),c.setMethodOverriders(e.MethodOverriders),c.setFullResponse(e.FullResponse),c.setRequestSuffix(e.RequestSuffix),c.setUseCannonicalId(e.UseCannonicalId),c.setEncodeIds(e.EncodeIds),b.info("appverse.rest run")}var b=["restangular","appverse.configuration","appverse.utils"];angular.module("appverse.rest",b).run(a),a.$inject=["$injector","$log","Restangular","ModuleSeeker","REST_CONFIG"]}(),function(){"use strict";angular.module("appverse.rest").factory("MulticastRESTFactory",["$log","Restangular","REST_CONFIG",function(a,b,c){var d={},e=c.Multicast_enabled;return a.debug("Multicast Enabled : "+e),d.readObject=function(a,c){return c&&c.length>0?void 0:b.one(a).get().$object},d}])}(),function(){"use strict";function a(a,b){return{link:function(c,d,e){var f="restData",g="Loading",h="Error",i=e.restName||f,j=e.rest||e.restPath;a.debug("rest directive"),c[i+g]=!0,d.html(e.restLoadingText||""),c.$watchCollection(function(){return[j,i,e.restErrorText,e.restLoadingText]},function(c,f,k){function l(b){a.debug("get data",b),d.html(""),k[i]=b,k[i+g]=!1}function m(){d.html(e.restErrorText||""),k[i+g]=!1,k[i+h]=!0}a.debug("REST watch "+i+":",c),k[i+h]=!1;var n;n=e.restId?b.readListItem(j,e.restId,l,m):b.readObject(j,l,m)})}}}angular.module("appverse.rest").directive("rest",a),a.$inject=["$log","RESTFactory"]}(),function(){"use strict";function a(a,b,c,d,e){function f(b){a.error("Error with status code",b.status)}var g={};return g.wrapRequestsWith=function(a){d=a.wrapRequest(d)},g.enableDefaultContentType=function(){d.setDefaultHeaders({"Content-Type":e.DefaultContentType})},g.setCache=function(a){d.setResponseInterceptor(function(b,c,d,f,g){return a&&(e.NoCacheHttpMethods[c]===!0?a.removeAll():"put"===c&&a.put(g.config.url,g.config.data)),b})},g.readObject=function(a,b,c){b=b||function(){},c=c||function(){};var e=d.one(a).get();return e.then(b,c),e.$object},g.readList=function(a){return d.all(a).getList().$object},g.readListNoEmpty=function(a){return d.all(a).getList()},g.readBatch=function(a){var e=b.defer();return c.get(d.configuration.baseUrl+"/"+a+d.configuration.suffix).success(function(a){e.resolve(a)}),e.promise},g.readParallelMultipleBatch=function(a){var c=[];return angular.forEach(a,function(a){var d=b.defer();g.readBatch(a).then(function(a){d.resolve(a)},function(){d.reject()}),c.push(d.promise)}),b.all(c)},g.readListItem=function(a,b,c,e){c=c||function(){},e=e||function(){};var f=d.one(a,b).get();return f.then(c,e),f.$object},g.readListItems=function(a,b){return d.several(a,b).getList().$object},g.createListItem=function(a,b,c){d.all(a).post(b).then(c,f)},g.updateObject=function(a,b,c){d.one(a).put(b).then(c,f)},g.deleteListItem=function(a,b,c){d.one(a,b).get().then(function(a){a.remove().then(c,f)})},g.deleteObject=function(a,b){d.one(a).delete().then(b,f)},g}angular.module("appverse.rest").factory("RESTFactory",a),a.$inject=["$log","$q","$http","Restangular","REST_CONFIG"]}(),function(){"use strict";angular.module("appverse.router",["ui.router"]).run(["$rootScope","$state","$stateParams",function(a,b,c){a.$state=b,a.$stateParams=c}])}(),function(){"use strict";angular.module("appverse.serverPush",["appverse.socket.io","appverse.configuration"]).run(["$log",function(a){a.info("appverse.serverPush run")}])}(),function(){"use strict";angular.module("appverse.socket.io",["appverse.configuration"])}(),function(){"use strict";angular.module("appverse.socket.io").provider("Socket",["SERVERPUSH_CONFIG",function(a){var b,c="socket:";this.$get=["$rootScope","$timeout",function(d,e){var f=b||io.connect(a.BaseUrl,{resource:a.Resource,"connect timeout":a.ConnectTimeout,"try multiple transports":a.TryMultipleTransports,reconnect:a.Reconnect,"reconnection delay":a.ReconnectionDelay,"reconnection limit":a.ReconnectionLimit,"max reconnection attempts":a.MaxReconnectionAttempts,"sync disconnect on unload":a.SyncDisconnectOnUnload,"auto connect":a.AutoConnect,"flash policy port":a.FlashPolicyPort,"force new connection":a.ForceNewConnection}),g=function(a){return function(){var b=arguments;e(function(){a.apply(f,b)},0)}},h=function(a,b){f.on(a,g(b))},i=function(){f.removeAllListeners()},j={on:h,addListener:h,off:i,emit:function(a,b,c){c?f.emit(a,b,g(c)):f.emit(a,b)},forward:function(a,b){a instanceof Array==!1&&(a=[a]),b||(b=d),angular.forEach(a,function(a){var d=c+a,e=g(function(a){b.$broadcast(d,a)});b.$on("$destroy",function(){f.removeListener(a,e)}),f.on(a,e)})}};return j}],this.prefix=function(a){c=a},this.ioSocket=function(a){b=a}}])}(),function(){"use strict";angular.module("appverse.serverPush").factory("SocketFactory",["$rootScope","Socket",function(a,b){var c={};return c.listen=function(c,d){b.on(c,function(){var c=arguments;a.$apply(function(){d.apply(b,c)})})},c.sendMessage=function(c,d,e){b.emit(c,d,function(){var c=arguments;a.$apply(function(){e&&e.apply(b,c)})})},c.unsubscribeCommunication=function(a){b.off(a())},c}])}(),function(){"use strict";angular.module("appverse.serverPush").factory("WebSocketFactory",["$log","WEBSOCKETS_CONFIG",function(a,b){var c={};return c.connect=function(a){if(!c.ws){var d;"WebSocket"in window?d=new WebSocket(a):"MozWebSocket"in window&&(d=new window.MozWebSocket(a)),d.onopen=function(){null!==d?(d.send(""),c.callback(b.WS_CONNECTED)):c.callback(b.WS_DISCONNECTED)},d.onerror=function(){c.callback(b.WS_FAILED_CONNECTION)},d.onmessage=function(a){c.callback(a.data)},d.onclose=function(){null!=d&&(d.close(),d=null)},c.ws=d}},c.send=function(b){a.debug("factory.ws: "+c.ws),c.ws.send(b)},c.subscribe=function(a){c.callback=a},c.disconnect=function(){c.ws.close()},c.status=function(){return null==c.ws||angular.isUndefined(c.ws)?WebSocket.CLOSED:c.ws.readyState},c.statusAsText=function(){var a=c.status();return a==WebSocket.CONNECTING?b.CONNECTING:a==WebSocket.OPEN?b.OPEN:a==WebSocket.CLOSING?b.WS_CLOSING:a==WebSocket.CLOSED?b.WS_CLOSED:b.WS_UNKNOWN},c}])}(),function(){"use strict";function a(a,b,d,e){var f={prefix:"resources/i18n/",suffix:".json"},g=b.LocaleFilePattern;a.useStaticFilesLoader(f),a.preferredLanguage(b.PreferredLocale),d.localeLocationPattern(g),e.decorator("translateDirective",c)}function b(a){a.info("appverse.translate run")}function c(a,b){var c=a[0],d=c.link,e=function(a,c,e,f){function g(){c.html(b(a.translationId,a.interpolateParams,a.interpolation));var d=c.text(),e=j.replace("%%text%%",d);c.html(e)}var h=c.text(),i=c.html(),j=i.replace(h,"%%text%%");d.apply(this,[a,c,e,f]),a.$on("$translateChangeSuccess",function(){g()}),a.$watch("[translationId, interpolateParams]",function(){a.translationId&&g()},!0)};return c.compile=function(){return e},a}angular.module("appverse.translate",["pascalprecht.translate","appverse.configuration","tmh.dynamicLocale"]).config(a).run(b),a.$inject=["$translateProvider","I18N_CONFIG","tmhDynamicLocaleProvider","$provide"],b.$inject=["$log"],c.$inject=["$delegate","translateFilter"]}(),function(){"use strict";angular.module("appverse.utils",["appverse.configuration"])}(),function(a){"use strict";function b(){this.$get=function(){return this},this.setBasePath=function(a){return new c(a)}}function c(a){function b(a){return"/"===a.slice(-1)}function c(a){return"/"===a.slice(0,1)}function d(a){return a.slice(0,-1)}function e(a){return a.slice(1)}a=a||"",a=a.trim(a),this.$get=function(){return this},this.inUrl=function(f){return f=f.trim(f),b(a)&&(a=d(a)),c(f)&&(f=e(f)),a+"/"+f}}a.module("appverse.utils").provider("BaseUrlSetter",b)}(angular),function(a){"use strict";function b(){this.$get=function(){return this}}a.module("appverse.utils").provider("ModuleSeeker",b),b.prototype.exists=function(b){try{return a.module(b),!0}catch(c){return!1}}}(angular),function(){"use strict";angular.module("appverse.utils").factory("Base64",function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(b){var c,d,e,f,g,h="",i="",j="",k=0;do c=b.charCodeAt(k++),d=b.charCodeAt(k++),i=b.charCodeAt(k++),e=c>>2,f=(3&c)<<4|d>>4,g=(15&d)<<2|i>>6,j=63&i,isNaN(d)?g=j=64:isNaN(i)&&(j=64),h=h+a.charAt(e)+a.charAt(f)+a.charAt(g)+a.charAt(j),c=d=i="",e=f=g=j="";while(k<b.length);return h},decode:function(b){var c,d,e,f,g,h="",i="",j="",k=0,l=/[^A-Za-z0-9\+\/\=]/g;l.exec(b)&&alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");do e=a.indexOf(b.charAt(k++)),f=a.indexOf(b.charAt(k++)),g=a.indexOf(b.charAt(k++)),j=a.indexOf(b.charAt(k++)),c=e<<2|f>>4,d=(15&f)<<4|g>>2,i=(3&g)<<6|j,h+=String.fromCharCode(c),64!=g&&(h+=String.fromCharCode(d)),64!=j&&(h+=String.fromCharCode(i)),c=d=i="",e=f=g=j="";while(k<b.length);return h}}})}(),function(){"use strict";angular.module("appverse.utils").factory("UtilFactory",function(){var a={};return a.findPropertyValueByName=function(a,b,c){for(var d=0;d<a.length;d++)if(a[d].area==b)for(var e=0;e<a[d].properties.length;e++)if(a[d].properties[e].property==c)return a[d].properties[e].value;return null},a.newRandomKey=function(a,b,c){var d;do d=a[Math.floor(a.length*Math.random())][b];while(d===c);return d},a})}(),function(){"use strict";angular.module("appverse.configuration.default",["$browser"])}(),function(){"use strict";angular.module("appverse.configuration.loader",["appverse.utils"])}(),function(){"use strict";function a(a){a.info("appverse.configuration run")}angular.module("appverse.configuration",["appverse.configuration.loader"]).run(a),a.$inject=["$log"]}(),function(){"use strict";function a(a,b,c,d,e){if(e.MockBackend&&c.decorator("$httpBackend",angular.mock.e2e.$httpBackendDecorator),a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|itms-services):/),d.exists("appverse.detection")){var f=b.get("DetectionProvider"),g=b.get("ConfigLoaderProvider");if(g.setDetection(f),d.exists("appverse.logging")){var h=b.get("FormattedLoggerProvider");h.setDetection(f)}}}function b(a,b){b.MockBackend&&a.debug("REST: You are using a MOCKED backend!")}angular.module("appverse",["appverse.utils","appverse.configuration"]).config(a).run(b),a.$inject=["$compileProvider","$injector","$provide","ModuleSeekerProvider","REST_CONFIG"],b.$inject=["$log","REST_CONFIG"]}(),function(){"use strict";function a(){var a=new b,c={};this.$get=function(){return this},this.load=function(a){this.loadDefaultConfig().loadCustomConfig(a).overrideDefaultConfig()},this.setDetection=function(b){a=b},this.loadDefaultConfig=function(){return angular.forEach(angular.module("appverse.configuration.default")._invokeQueue,function(a){c[a[2][0]]=a[2][1]}),this},this.loadCustomConfig=function(a){return a&&(this.settings=a),this.loadMobileConfigIfRequired(),this.loadEnvironmentConfig(),this},this.overrideDefaultConfig=function(){angular.forEach(c,function(a,b){angular.module("appverse.configuration").constant(b,a)})},this.loadMobileConfigIfRequired=function(){a.hasAppverseMobile()?this.loadAppverseMobileConfig():a.isMobileBrowser()&&this.loadMobileBrowserConfig()},this.loadEnvironmentConfig=function(){return this.settings&&this.settings.environment?this.addConfig(this.settings.environment):this.addConfigFromJSON("resources/configuration/environment-conf.json"),this},this.loadAppverseMobileConfig=function(){return this.settings&&this.settings.appverseMobile?this.addConfig(this.settings.appverseMobile):this.addConfigFromJSON("resources/configuration/appversemobile-conf.json"),this},this.loadMobileBrowserConfig=function(){return this.settings&&this.settings.mobileBrowser?this.addConfig(this.settings.mobileBrowser):this.addConfigFromJSON("resources/configuration/mobilebrowser-conf.json"),this},this.addConfig=function(a){angular.forEach(a,function(a,b){var d=c[b];d?(angular.forEach(a,function(a,b){d[b]=a}),c[b]=d):c[b]=a})},this.addConfigFromJSON=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1),b.send(null);var c=JSON.parse(b.responseText);this.addConfig(c)}}function b(){this.hasAppverseMobile=function(){return!1},this.isMobileBrowser=function(){return!1}}angular.module("appverse.configuration.loader").provider("ConfigLoader",a)}(),function(){"use strict";angular.module("appverse.configuration.default").constant("PROJECT_DATA",{ApplicationName:"Appverse Web HTML5 Incubator Demo",Version:"0.1",Company:"GFT",Year:"2013",Team:"GFT Appverse Web",URL:"",LoginViewPath:"/login",myUrl:"",VendorLibrariesBaseUrl:"bower_components"}).constant("LOGGING_CONFIG",{ServerEnabled:!1,LogServerEndpoint:"http://localhost:9000/log",CustomLogPreffix:"APPLOG",EnabledLogLevel:!0,EnabledErrorLevel:!0,EnabledDebugLevel:!0,EnabledWarnLevel:!0,EnabledInfoLevel:!0,LogDateTimeFormat:"%Y-%M-%d %h:%m:%s:%z",LogTextFormat:""}).constant("CACHE_CONFIG",{ScopeCache_Enabled:!0,DefaultScopeCacheName:"appverseScopeDataCache",ScopeCache_duration:1e4,ScopeCache_capacity:10,BrowserStorageCache_Enabled:!0,BrowserStorage_type:"2",DefaultBrowserCacheName:"appverseBrowserCache",MaxAge:9e5,CacheFlushInterval:36e5,DeleteOnExpire:"aggressive",SessionBrowserStorage:"sessionStorage",LocalBrowserStorage:"localStorage",NoBrowserStorage:"none",browserDirectCacheType:"1",VerifyIntegrity:!0,HttpCache_Enabled:!0,HttpCache_duration:2e4,HttpCache_capacity:10,IndexedDBCache_Enabled:!1,IndexedDB_name:"DefaultIDBCache",IndexedDB_version:1,IndexedDB_options:[{storeName:"structure-of-items",keyPath:"id",indexes:[{name:"name",unique:!1}]}]}).constant("SERVERPUSH_CONFIG",{BaseUrl:"http://localhost:3000",ListenedPort:"3000",Resource:"socket.io",ConnectTimeout:"10000",TryMultipleTransports:!0,Reconnect:!0,ReconnectionDelay:1e3,ReconnectionLimit:"Infinity",MaxReconnectionAttempts:5,SyncDisconnectOnUnload:!1,AutoConnect:!0,FlashPolicyPort:"",ForceNewConnection:!1}).constant("REST_CONFIG",{BaseUrl:"/api/v1",ExtraFields:[],ParentLess:!1,NoCacheHttpMethods:{get:!1,post:!0,put:!1,"delete":!0,option:!1},ElementTransformer:[],OnElemRestangularized:function(a){return a},RequestInterceptor:null,FullRequestInterceptor:null,ErrorInterceptor:function(a){console.log("ErrorInterceptor, server response:",a)},RestangularFields:{id:"id",route:"route"},MethodOverriders:[],DefaultRequestParams:{},FullResponse:!1,DefaultHeaders:{"Content-Type":"application/json","X-XSRF-TOKEN":"juan"},RequestSuffix:".json",UseCannonicalId:!1,EncodeIds:!0,DefaultContentType:"application/json",MockBackend:!1}).constant("AD_CONFIG",{ConsumerKey:"",ConsumerSecret:""}).constant("I18N_CONFIG",{PreferredLocale:"en-US",LocaleFilePattern:"angular-i18n/angular-locale_{{locale}}.js",DetectLocale:!0}).constant("SECURITY_GENERAL",{securityEnabled:!1,XSRFCSRFRequestHeaderName:"X-XSRF-TOKEN",XSRFCSRFResponseCookieName:"XSRF-TOKEN",BearerTokenResponseHeader:"access_token",BearerTokenRequestHeader:"Authorization",RefreshTokenResponseHeader:"refresh_token",BearerTokenExpiringResponseHeader:"expires_in",TokenTypeResponseHeader:"token_type",XSRFPolicyType:1,XSRFSecret:"",Headers_ContentType:"application/json",loginHTTPMethod:"POST",loginURL:"http://localhost:8080/html5-incubator-server/rest/sec/login",username:"admin",password:"admin",connected:"connected",disconnected:"disconnected",notEnabled:"Security not enabled"}).constant("SECURITY_OAUTH",{oauth2_endpoint:"appverse",clientID:"",profile:"http://localhost:8080/html5-incubator-server",scope:"resources",scopeURL:"http://localhost:8080/html5-incubator-server",scope_authorizePath:"/oauth/authorize",scope_tokenPath:"/oauth/token",scope_flow:"implicit",scope_view:"standard",scope_storage:"none",scope_template:"views/demo/security/oauth_default.html",redirectURL:"http://localhost:9000",storage:"cookies",storage_cookies:"cookies",storage_header:"header",tokenResponseHeaderName:"Authorization"}).constant("GOOGLE_AUTH",{clientID:"75169325484-8cn28d7o3dre61052o8jajfsjlnrh53i.apps.googleusercontent.com",scopeURL:"https://www.googleapis.com/auth/plus.login",requestvisibleactionsURL:"http://schemas.google.com/AddActivity",theme:"dark",cookiepolicy:"single_host_origin",revocationURL:"https://accounts.google.com/o/oauth2/revoke?token=",revocation:"revocation",manual_renovation:"manual_renovation",automatic_renovation:"automatic_renovation",tokenRenewalPolicy:"automatic_renovation"}).constant("AUTHORIZATION_DATA",{roles:["user","admin","editor"],adminRoles:["ROLE_EXAMPLE","ROLE_EXAMPLE_2","ROLE_REMOTE_LOGGING_WRITER","ROLE_USER"],users:["Jesus de Diego"],userRoleMatrix:[{user:"Jesus de Diego",roles:["ROLE_EXAMPLE","ROLE_EXAMPLE_2","ROLE_REMOTE_LOGGING_WRITER","ROLE_USER"]},{user:"Antoine Charnoz",roles:["ROLE_EXAMPLE","ROLE_EXAMPLE_2","ROLE_REMOTE_LOGGING_WRITER","ROLE_USER"]}],routesThatDontRequireAuth:["/home"],routesThatRequireAdmin:["/about"]}).constant("WEBSOCKETS_CONFIG",{WS_ECHO_URL:"ws://echo.websocket.org",WS_CPU_URL:"ws://localhost:8080/websocket/services/websocket/statistics/get/cpuload",WS_CPU_INTERVAL:30,WS_CONNECTED:"Websocket connected",WS_DISCONNECTED:"Websocket disconnected",WS_CONNECTING:"Connecting Websocket...",WS_CLOSED:"Websocket connection closed",WS_CLOSING:"Websocket connection closing...",WS_OPEN:"Websocket connection is open",WS_UNKNOWN:"Websocket status is unknown",WS_FAILED_CONNECTION:"Failed to open a Websocket connection",WS_NOT_SUPPORTED:"HTML5 Websockets specification is not supported in this browser.",WS_SUPPORTED:"HTML5 Websockets specification is supported in this browser."}).constant("PERFORMANCE_CONFIG",{webworker_pooled_threads:4,webworker_authorized_workers_only:!0,webworker_directory:"resources/webworkers/",webworker_authorized_workers:[{id:"w1",type:"dedicated",poolSize:4,file:"RenderImage.js"},{id:"w2",type:"dedicated",poolSize:4,file:"RestMultiRequest.js"}],webworker_dedicated_literal:"dedicated",webworker_shared_literal:"shared",webworker_Message_template:"scripts/api/directives/webworkerMessage.html"})
}();var AppInit=AppInit||function(a){"use strict";function b(b){return g=b,a.module("appverse.configuration.loader").config(f),AppInit}function c(b){var c=b||h;a.element(document).ready(function(){a.bootstrap(document,[c])})}function d(a){h=a}function e(){return a.module(h)}function f(a){a.load(g)}var g,h;return f.$inject=["ConfigLoaderProvider"],{setMainModuleName:d,setConfig:b,bootstrap:c,getMainModule:e}}(angular);
//# sourceMappingURL=appverse-html5-core.min.js.map