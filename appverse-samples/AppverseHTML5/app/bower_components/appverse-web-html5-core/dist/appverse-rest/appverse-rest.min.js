/*! appverse-web-html5-core - v0.5.0-dev - */
!function(){"use strict";function a(a,b,c,d,e){function f(){var b=a.get("RESTFactory"),c=a.get("$log"),e=a.get("SECURITY_GENERAL");if(d.exists("appverse.security")){var f=a.get("Oauth_RequestWrapper");if(e.securityEnabled)return b.wrapRequestsWith(f),void c.debug("REST communication is secure. Security is enabled. REST requests will be wrapped with authorization headers.")}b.enableDefaultContentType(),c.debug("REST communication is not secure. Security is not enabled.")}function g(){if(d.exists("appverse.cache")){var b=a.get("RESTFactory"),c=a.get("CacheFactory"),e=c.getHttpCache();b.setCache(e)}}f(),g(),c.setBaseUrl(e.BaseUrl),c.setExtraFields(e.ExtraFields),c.setParentless(e.Parentless);for(var h,i=0;i<e.ElementTransformer.length;i++)b.debug("Adding transformer"),h=e.ElementTransformer[i],c.addElementTransformer(h.route,h.transformer);c.setOnElemRestangularized(e.OnElemRestangularized),"function"==typeof e.RequestInterceptor&&(b.debug("Setting RequestInterceptor"),c.setRequestInterceptor(e.RequestInterceptor)),"function"==typeof e.FullRequestInterceptor&&(b.debug("Setting FullRequestInterceptor"),c.setFullRequestInterceptor(e.FullRequestInterceptor)),c.setErrorInterceptor(e.ErrorInterceptor),c.setRestangularFields(e.RestangularFields),c.setMethodOverriders(e.MethodOverriders),c.setFullResponse(e.FullResponse),c.setRequestSuffix(e.RequestSuffix),c.setUseCannonicalId(e.UseCannonicalId),c.setEncodeIds(e.EncodeIds),b.info("appverse.rest run")}var b=["restangular","appverse.configuration","appverse.utils"];angular.module("appverse.rest",b).run(a),a.$inject=["$injector","$log","Restangular","ModuleSeeker","REST_CONFIG"]}(),function(){"use strict";angular.module("appverse.rest").factory("MulticastRESTFactory",["$log","Restangular","REST_CONFIG",function(a,b,c){var d={},e=c.Multicast_enabled;return a.debug("Multicast Enabled : "+e),d.readObject=function(a,c){return c&&c.length>0?void 0:b.one(a).get().$object},d}])}(),function(){"use strict";function a(a,b){return{link:function(c,d,e){var f="restData",g="Loading",h="Error",i=e.restName||f,j=e.rest||e.restPath;a.debug("rest directive"),c[i+g]=!0,d.html(e.restLoadingText||""),c.$watchCollection(function(){return[j,i,e.restErrorText,e.restLoadingText]},function(c,f,k){function l(b){a.debug("get data",b),d.html(""),k[i]=b,k[i+g]=!1}function m(){d.html(e.restErrorText||""),k[i+g]=!1,k[i+h]=!0}a.debug("REST watch "+i+":",c),k[i+h]=!1;var n;n=e.restId?b.readListItem(j,e.restId,l,m):b.readObject(j,l,m)})}}}angular.module("appverse.rest").directive("rest",a),a.$inject=["$log","RESTFactory"]}(),function(){"use strict";function a(a,b,c,d,e){function f(b){a.error("Error with status code",b.status)}var g={};return g.wrapRequestsWith=function(a){d=a.wrapRequest(d)},g.enableDefaultContentType=function(){d.setDefaultHeaders({"Content-Type":e.DefaultContentType})},g.setCache=function(a){d.setResponseInterceptor(function(b,c,d,f,g){return a&&(e.NoCacheHttpMethods[c]===!0?a.removeAll():"put"===c&&a.put(g.config.url,g.config.data)),b})},g.readObject=function(a,b,c){b=b||function(){},c=c||function(){};var e=d.one(a).get();return e.then(b,c),e.$object},g.readList=function(a){return d.all(a).getList().$object},g.readListNoEmpty=function(a){return d.all(a).getList()},g.readBatch=function(a){var e=b.defer();return c.get(d.configuration.baseUrl+"/"+a+d.configuration.suffix).success(function(a){e.resolve(a)}),e.promise},g.readParallelMultipleBatch=function(a){var c=[];return angular.forEach(a,function(a){var d=b.defer();g.readBatch(a).then(function(a){d.resolve(a)},function(){d.reject()}),c.push(d.promise)}),b.all(c)},g.readListItem=function(a,b,c,e){c=c||function(){},e=e||function(){};var f=d.one(a,b).get();return f.then(c,e),f.$object},g.readListItems=function(a,b){return d.several(a,b).getList().$object},g.createListItem=function(a,b,c){d.all(a).post(b).then(c,f)},g.updateObject=function(a,b,c){d.one(a).put(b).then(c,f)},g.deleteListItem=function(a,b,c){d.one(a,b).get().then(function(a){a.remove().then(c,f)})},g.deleteObject=function(a,b){d.one(a).delete().then(b,f)},g}angular.module("appverse.rest").factory("RESTFactory",a),a.$inject=["$log","$q","$http","Restangular","REST_CONFIG"]}();
//# sourceMappingURL=appverse-rest.min.js.map